
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>lianghaijun的博客</title>
  <meta name="author" content="seavers">

  
  <meta name="description" content="与java.String对比
[table]
||id|java.String|php.String|
||0| equals | strcmp |
||1| substring(start,end)| substr(string,start,length) |
||2| indexOf(str &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lianghaijun.com/blog/page/8/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
  <link href="/atom.xml" rel="alternate" title="lianghaijun的博客" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
</head>

<body   >
  <header role="banner"><hgroup>
  <div id="wb_connect_btn"></div>
  <h1><a href="/">lianghaijun的博客</a></h1>
  
    <h2>Looking for Interest</h2>
  
</hgroup>
</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:lianghaijun.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives/">Archives</a></li>
  <li><a href="/blog/picture/">picture</a><li>
  <li><a href="/blog/link/">link</a></li>
  <li><a href="/blog/about/">about</a></li>
</ul>
</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011-02-10-903168.html">php 学习笔记 (1)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-10T22:02:00+08:00" pubdate data-updated="true">Feb 10<span>th</span>, 2011</time>
      </p>
    
  </header>


  <div class="entry-content"><p>与java.String对比
[table]
||id|java.String|php.String|
||0| equals | strcmp |
||1| substring(start,end)| substr(string,start,length) |
||2| indexOf(str, fromIndex)|  strpos stripos  ,  strstr  stristr  strrpos|
||3| concat(str) (+)| (.)|
||4| startsWith ||
||5| endsWith ||
||6| getBytes | |
||7| matches | |
||8| replace | str_replace(find, replace, str, count)  ,  str_ireplace|
||9| replaceAll ||
||10| split | |
||11| toLowerCase | strtolower() |
||12| toUpperCase | strtoupper()|
||13| trim() | trim()  ltrim()  rtrim()|
||14| length | strlen |
||15|  | md5|
||16| format|fprintf|
[/table]</p>

<p>php    join  md5</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011-01-05-860004.html">linux进阶命令</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-05T20:11:00+08:00" pubdate data-updated="true">Jan 5<span>th</span>, 2011</time>
      </p>
    
  </header>


  <div class="entry-content"><p>linux版本：uname -ar
cpu信息：  cat /proc/cpuinfo
mem信息：  cat /proc/meminfo</p>

<p>apache日志，过滤IP,并按照IP的次数倒排序
cat 2011-01-05-access.log | awk &lsquo;{print $1}&rsquo; | sort | uniq -c | sort -k1,1nr</p>

<p>同理，有于 url, referer, status.code</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010-11-21-819050.html">SimpleDateFormat 不是线程安全的&#8220;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-11-21T19:53:00+08:00" pubdate data-updated="true">Nov 21<span>st</span>, 2010</time>
      </p>
    
  </header>


  <div class="entry-content"><p>原来SimpleDateFormat不是线程安全的&#8220;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010-06-20-1982082.html">一道智力题</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-20T21:47:00+08:00" pubdate data-updated="true">Jun 20<span>th</span>, 2010</time>
      </p>
    
  </header>


  <div class="entry-content"><div class="iteye-blog-content-contain" style="font-size: 14px;">
<p>请回答以下问题: <br>　　　　1、第一个答案是b的问题是哪一个？<br>　　　　（a）2；（b） 3；（c）4；（d）5；（e）6 <br>　　　　2、唯一的连续两个具有相同答案的问题是： <br>　　　　（a）2，3；（b）3，4；（c）4，5；（d）5，6；（e）6，7； <br>　　　　3、本问题答案和哪一个问题的答案相同？ <br>　　　　（a）1；（b）2；（c）4；（d）7；（e）6<br>　　　　4、答案是a的问题的个数是： <br>　　　　（a）0；（b）1；（c）2；（d）3；（e）4 <br>　　　　5、本问题答案和哪一个问题的答案相同？ <br>　　　　（a）10；（b）9；（c）8；（d）7；（e）6 <br>　　　　6、答案是a的问题的个数和答案是什么的问题的个数相同？ <br>　　　　（a）b；（b）c；（c）d；（d）e；（e）以上都不是 <br>　　　　7、按照字母顺序，本问题的答案和下一个问题的答案相差几个字母？ <br>　　　　（a）4；（b）3；（c）2；（d）1；（e）0。（注：a和b相差一个字母） <br>　　　　8、答案是元音字母的问题的个数是： <br>　　　　（a）2；（b）3；（c）4；（d）5；（e）6。（注：a和e是元音字母） <br>　　　　9、答案是辅音字母的问题的个数是： <br>　　　　（a）一个质数；（b）一个阶乘数；（c）一个平方数；（d）一个立方数，（e）5的倍数 <br>　　　　10、本问题的答案是： <br>　　　　（a）a；（b）b；（c）c；（d）d；（e）e</p>
<p> </p>
<p> </p>
<p>我的答案:</p>
<p> </p>
<p>1. 第1题不能是b, 否则自相矛盾<br>2. 第2题不能是a, 否则123题矛盾<br>2.1 1为c,2不能为abc, 1为d,2不能为abcd,1为e,2不能为abde<br>3. 第3题不能是a, 因为第四题不可能是a<br>4. 第3题不能是b, 否则234题都是b则与第二题矛盾<br>4.1 1为e, 3不能是abe, 6为b,则3,5不能为e<br>5. 第4题不能是a, 否则自相矛盾<br>5.1 1234为 abcc abdd abee,cdeb cedb dedcbddxb dedebddxb ecdccbdcx<br>5.2 根据上面来判断,a的个数, 1题为d或e都不可能, 第1题只能是ac<br>5.3 如1234为cdeb cedb时, cdebee cedbxdd -&gt; cdebee cedbaddxxa cedbcddcxx<br>6. 第7题不能是e, 否则与第2题矛盾<br>7. 第7,8题,可能的结果是 Xe, ca, dc 三种可能, 即第8题为ace, 即元音个数为246三种可能, 那么辅音则为864三种可能<br>8. 第9题的结果为 a) 235 b) 126 c) 149 d) 18 e) 5 10 即结果为bcd 即648三种可能<br>9. 即第789三题可能为 aec bec cad cec dcb dec<br>10. 即第5789 四题可能为 axxx bdcb cdcb ddcb ddec exxx<br>10.1 如1234为cdeb,cedb时, cdebeedcba cedbaddcba cedbaddeca cedbcddcadx cedbcddceca<br>10.2 上面的,成立的有 cdebeedcba<br>11. 当第1题是a时, 第2题是b<br>a) 第1234题为 abcc时, 第5题为a,与4矛盾, 5789为bdcb,cdcb ddcb时,已经7个辅音,与9矛盾, 当5为e时,与2矛盾<br>b) 第1234题为 abdd时, 789题为dcb dec, 5610为 aca 即abddacdcba不成立<br>c) 第1234题为 abee时, 第6题为e, 第8题为e, 3个a,4个e,与8题矛盾</p>
<p>综上所述, 只有一种情况成立 cdebeedcba</p>
<p><br>其它方析(曾经使用过的分析)<br>11. 第8题不能为a, 否则第5题abcde都不可能, 即789为xec,dcb, 且5789 axxx xdcb ddec exxx<br>12. 第8题只能是ce<br>13. 第9题只能是bc<br>14. 如果第8题为e, 有两种1个a+5个e或2个a+4个e<br>a) 第6个必须为e,否则只有1210可以为e,不够4个<br>b) 1xa+5xe 4b6e8e, 1c, 3510e 2d7a cdebeeaece与6矛盾<br>c) 2xa+4xe 4c6e8e, 1为a时, 510必须为e abcceeaece与2矛盾 1不a, 只能为d, 5为b,310只能e,只有7为a,与4矛盾<br>d) 因此第8题不能为e,只能为c<br>15. 第89只能为cb, 7只能为d,10不能为b<br>16. 第2,3不为e时, 15610必须为a或e, 1为a则</p>
<p>15. 当第1题不为a时, 123都不可能为ab, 只有56710四题可能为a<br>a) 当56710为a时, 123都不可能为ab, 与6矛盾, 即4不能为e<br>b) 当5610或者6710时,题为a时, 1238都不可能为b, 79不能同时为b, 矛盾, 所以6不能为a<br>c) 当5710为a时, 45678910为daxaeca, 第2题cde都不可选择, 矛盾<br>d) 所以只能有1个a或者2个a<br>e) 当4选择b时, 1234为cdeb,cedb, 5只能为e<br>e1) 1234为cdeb, 5为e, 6为e, 78910为dcba即 cdebeedcba 成立<br>e2) 1234为cedb, 5为e, 6为d, 6,8矛盾<br>f) 当4选择c时, 1只能为de, 1234都不能为ab, 3不能c 8不能为ab, 56710可能为ab,9可能为b<br>f1) 123为 dcd dce ded时 4c5b 只能是dedcbddcb<br>f2) 123为 ecd ece ede时</p>
<p>f1) 当5为a时,10为a, 67不能为a, <br>f2) 当5不为a时,<br>f3) 当6为a时, 1234为</p>
<p>f1) 当1为d, 59为b, 则dxxcbxdcbx,则只有10为a,与4矛盾<br>f2) 当1为e, ecxccb edxcbb</p>
<p><br>8. 如果第1题选d, 第234不能为b,则59为b,则dxxxbxdcbx,即只能有第10题可能为a,而第4题不能选ab,矛盾, 即第1题不可能为d</p>
<p>15. 当第1题为c时, 那么5不能为a, 否则与4矛盾, 5不能为d, 否则5与7矛盾<br>a) 第12题为cd时, 4为b, 5不能为a, 456789为bbdcb ccdcb eexxx,</p>
<p> </p>
<p><br>1 a c d e<br>2 b c d e<br>3 c d e<br>4 b c <br>5 a b c d e<br>6 a b c d e<br>7 d<br>8 c <br>9 b<br>10 a c d e</p>
<p>9. 即第35789 五题可能为 cxxxx,</p>
<p>9. 如果第1题为e, 第2345不能为b,则6为b</p>
<p><br>cxxbdxxxbxdcbx dcxbbxdcb dexxbddcb deccbddcbx dedxbddcbxexxxxb<br>1 567 10 15610 15710 16710abcd ce bc</p>
<p>ae=13 22 15 24<br>15 4b8e6+1210 6e 4b6e8e35101a|7aaxebeexexecdebeeaece<br>24 4c8e6+12106b7b 4c6e8e3510 1a7a510axdxceeabxceeaecedxecbeaeca<br>1 2 8 10</p>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010-06-19-694660.html">无状态缓冲带来的可伸缩性</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-19T17:13:00+08:00" pubdate data-updated="true">Jun 19<span>th</span>, 2010</time>
      </p>
    
  </header>


  <div class="entry-content"><p>假设性思考~~~~</p>

<p>如果企业级开发中, 系统这样设计, 能否满足各类系统需求</p>

<p>&mdash;&mdash;&mdash;&mdash;  第一阶段限制</p>

<ol>
<li>系统中所有的对象只有以下两种情况
  a) 常量bean, 常量,不会改变的数据,固定配置,固定参数
  a) 数据bean, 拥有getter,setter方法的纯javabean对象,均可持久化,如POJO,DTO
  b) 服务bean, 即bean组件, spring管理下的bean组件,如DAO,MO,AO,SO

<pre><code>    i.   对象的成员变量只能是bean组件
    ii.  空参构造函数, 无需初使化
    iii. 对象的方法的参数和返回类型必须为ID数据或数据bean
</code></pre></li>
<li>数据bean均需持久化管理,或者持久化到数据库服务器,或者持久化到缓冲服务器. 方法退出后,此bean中不可以保持任何引用.</li>
<li>数据bean的获取只能来源于
  a) HTTP请求参数
  b) 缓冲服务器
  c) 数据库服务器
  d) 其它的外部服务</li>
<li>数据bean不能来源于当前服务器的内存缓冲或者全局变量或者本地硬盘</li>
<li>数据bean在每台服务器获取后,都应该是一致的,不存在不同步的情况</li>
<li>数据bean是无状态的,与服务器无关,因此bean是一致的</li>
<li>数据bean的一致性由缓冲服务器,数据库服务器,或其它外部服务来保证</li>
<li><p>换句话说, 所有服务在等待请求状态时, 本地服务器不可以保持任何数据bean的引用.</p></li>
<li><p>服务bean中每个方法,只能接受数据bean做为参数,也只能返回数据bean做为结果
10.服务bean中每个方法,如果根据每个bean调用外部服务获取的数据一致,则相同的参数,必须返回相同的结果
11.服务bean中每个变量,不能是数据bean,只能是常量bean或者服务bean的引用,
12.服务bean中每个方法,不能依赖于成员变量, 没有上下文参数, 即此类对象性质等同于工具类助手类对象, 可实现单例模式</p></li>
</ol>


<p>13.服务器集群=任意个应用服务器+外部服务器,应用服务器单点故障不会影响业务轮转</p>

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;   第二阶段</p>

<ol>
<li>由于数据bean是可序列化的,因此可以用固定的字符串ID来表示相应的数据bean</li>
<li>如果数据bean实现版本管理,可以通过 id.version 来确定唯一的数据</li>
<li>组合id.version与数据bean后产生的数据bean, 等同于常量bean</li>
<li>由于服务bean可实现单例,因此服务bean可以用固定的字符串name来确定唯一的服务bean</li>
<li>服务bean可以byName方式或byType注入, 再加上空参构造</li>
</ol>


<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;   第三阶段</p>

<ol>
<li>外部服务器上实现字符串ID获取最新版本的数据bean</li>
<li>本地服务器上实现字符串name获取唯一版本的服务bean</li>
<li>本地服务器上实现字符串name+方法名name获取服务bean指定的方法</li>
<li>由字符串name+方法名name确定唯一ID,来确定唯一方法</li>
<li>客户端传入字符串ID及方法ID,传至服务器,可返回唯一的字符串ID</li>
<li>字符串ID与方法ID,确定唯一的请求ID,可转换为字符串,也可逆转换</li>
<li>这里的唯一ID,都可以理解为常量bean</li>
</ol>


<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;  第四阶段</p>

<ol>
<li>本地服务器只处理两种逻辑
  a) 传入唯一字符串ID,去外部服务器获取结果bean
  b) 根据字符串ID,方法ID,处理后返回结果bean</li>
<li>本地服务器,外地服务器都可理解为数据bean的转换器</li>
<li>唯一ID可用来标识
  a) 常量bean,数据bean,服务bean,服务bean的每种请求</li>
<li>可使用缓冲服务器或代理服务器来缓冲唯一ID对应的各类数据</li>
</ol>


<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;  第五阶段</p>

<ol>
<li>使用URL规范来表示唯一请求ID,传至服务器,返回唯一的HTML代码</li>
<li>HTTP协议中相同的URL,在服务端数据版本相同时,应该返回相同的HTML</li>
<li>HTTP协议中与上下文参数相关的数据,应保存在HTTP.HEADER中,如处理服务器的ID,处理时间,处理版本,处理参数</li>
<li>由HTTP协议中的last-modified,etag来标识服务端的版本号,由max-age,Expire来标识版本的生命周期</li>
<li>HTTP请求,对与相同的URL,相同版本,在生命周期内,返回唯一的HTML结果</li>
</ol>


<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;></p>

<p>假设以下皆可实现
1. 对数据bean操作自动保存至缓冲服务器, 根据缓冲策略刷新至数据库服务器
2. 缓冲服务器选择性支持以下缓冲,单条缓冲,分页缓冲,TOP缓冲,分类缓冲,自增缓冲
3. 数据bean是有版本的,服务bean,及服务bean中的每个方法也是有版本的</p>

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;></p>

<p>高性能WEB服务</p>

<ol>
<li>由代理服务器或者缓冲服务器缓冲HTTP结果,如果版本未更新,则返回304或者缓冲的内容</li>
<li>当缓冲生命周期结束后,由代理服务器去应用服务器验证每个数据bean及方法的版本,如果数据及方法的版本均未改变,则返回304或者缓冲的内容</li>
<li>如果数据bean或者方法bean更新,则由方法处理返回最新版本的结果bean,并通知代理服务器或者缓冲服务器更新版本</li>
</ol>


<p>未完待续&hellip;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010-04-06-634841.html">统计使用~~~勿入~~~~</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-06T19:27:00+08:00" pubdate data-updated="true">Apr 6<span>th</span>, 2010</time>
      </p>
    
  </header>


  <div class="entry-content"><p>更新日期    2010.04.06 19：31</p>

<p>2323</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009-01-27-1982083.html">手机游戏 resco bubbles 个人记录 score</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-01-27T23:29:00+08:00" pubdate data-updated="true">Jan 27<span>th</span>, 2009</time>
      </p>
    
  </header>


  <div class="entry-content"><p>手机游戏resco bubbles </p>


<p>游戏共50关 个人记录如下</p>


<p></p>


<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-</p>


<p>(2009-01-27)</p>


<p></p>


<p>1 1.5<br>2 2.6<br>3 3.3<br>4 5.9<br>5 10.2<br>6 3.2<br>7 6.0<br>8 0.6<br>9 14.3<br>10 15.5<br>11 1.6<br>12 14.4<br>13 1.3<br>14 3.8<br>15 4.4<br>16 3.5<br>17 1.2<br>18 24.3<br>19 28.1<br>20 24.7<br>21 5.9<br>22 15.2<br>23 16.9<br>24 11.5<br>25 28.9<br>26 21.6<br>27 15.2<br>28 12.2<br>29 5.4<br>30 7.3<br>31 1:38.2<br>32 12.8<br>33 50.0<br>34 12.1<br>35 8.2<br>36 2.3(bug??) &#8212;&#8212;&#8211;此处是因软件bug而导致成绩出错<br>37 1:01.2<br>38 5.4<br>39 37.4<br>40 8.6<br>41 5.1<br>42 8.3<br>43 13.4<br>44 11.8<br>45 10.6<br>46 1.9<br>47 1:32.0<br>48 (未通关)<br>49 (未通关)<br>50 (未通关)</p>


<p></p>


<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>


<p>第二次更新成绩 (20090719)</p>


<p></p>


<p><a href="http://blog.csdn.net/seavers/archive/2009/01/28/3853875.aspx"></a></p>


<p>11.5<br>22.6<br>33.3<br>44.8<br>58.9<br>62.8<br>74.8<br>80.5<br>914.1<br>1014.3<br>111.6<br>1211.1<br>131.3<br>141.9<br>154.2<br>163.5<br>171.1<br>1824.3<br>1927.6<br>2016.2<br>215.2<br>2210.0<br>2316.9<br>2411.2<br>2513.9<br>2621.6<br>2715.2<br>2812.2<br>295.4<br>307.3<br>311:38.2<br>3212.8<br>3350.0<br>3410.1<br>357.0<br>3616.9<br>3749.2<br>385.2<br>3937.4<br>408.6<br>415.1<br>428.3<br>4313.4<br>4411.8<br>4510.6<br>461.9<br>471:32.0<br>48&#8211;<br>49&#8211;<br>50&#8211;</p>


<p></p>


<p></p>


<p></p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008-01-14-1982084.html">利用bat反编译jar包生成源码jar包</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-14T21:29:00+08:00" pubdate data-updated="true">Jan 14<span>th</span>, 2008</time>
      </p>
    
  </header>


  <div class="entry-content"><div class="iteye-blog-content-contain" style="font-size: 14px;">
<p>(<span style="font-size: 12px; line-height: 1.5;">这篇文章是从blog.csdn.net/seavers导入的, </span><span style="font-size: 12px; line-height: 1.5;">最新版本见: </span><a style="font-size: 12px; line-height: 1.5;" href="/blog/1416013">http://seavers.iteye.com/blog/1416013</a><span style="font-size: 12px; line-height: 1.5;">,  </span><span style="font-size: 12px; line-height: 1.5;">)</span></p>
<p>反编译所使用的工具是jad.exe,笔者的测试版本是1.5.8e,压缩与解压缩使用的是WinRAR</p>
<p>jad.exe 可反编译一个class文件为java文件,笔者的BAT可通过此工具将一个jar包反编译成一个完整的源码jar包,同时生成的目录也可以在eclipse中使用</p>
<p>jad.exe 官方网站 ： <a href="http://www.kpdus.com/jad.html">http://www.kpdus.com/jad.html</a> (英文的)</p>
<p>BAT脚本见后</p>
<p>安装方法如下:</p>
<p>复制粘贴后面的文本为一个BAT,然后与jad.exe放在同一个目录即可(WinRAR需正确安装)</p>
<p>使用方法如下: (有3种使用方法, 使用其中任意一种均可,结果是相同的)</p>
<p>1. 双击BAT,提示输入需反编译的jar包,请输入完整的jar路径</p>
<p>2. 直接将 jar 包拖放在bat上</p>
<p>3.右键点击jar包,选择打开方式,然后选择使用该BAT来执行</p>
<p>运行后的结果如下:</p>
<p>在jar包的同一目录下, 将会生成一个目录,一个jar,目录下有两个子目录,一个目录存放解压缩后的所有class,一个目录存放反编译后的java文件,jar包是用源码压缩生成的</p>
<p>几点说明:</p>
<p>1. 工具中使用的WinRAR是自动识别安装路径的,请正确安装WinRAR</p>
<p>2. 工具使用的jad.exe,须与BAT放在同一目录,或者放在PATH可搜索到的位置</p>
<p>3. jar包中非class文件,也会完整拷贝在源码目录下,方便生成源码工程</p>
<p>4. 生成的目录名与原 jar 包同名, 生成的源码 jar 包的文件名是在原名称中加入-src而生成, 如原 jar 包为 jdbc.jar, 则生成的目录名为 jdbc, 而生成的源码jar 包名则为 jdbc-src.jar</p>
<p>5. eclipse使用方法1, 将BAT生成的目录放在workspace中,然后创建同名工程</p>
<p>6. eclipse使用方法2,在 eclipse 中创建同名工程,使用src为源文件目录,bin为class文件目录,然后将BAT生成的目录拷贝在eclipse的workspace中</p>
<p> </p>
<p>该BAT为 blog.csdn.net/seavers 原创, BAT源码仅供个人学习,使用,研究,未经本人同意,不可用于商业用途</p>
<p> </p>
<p> </p>
<p>BAT源码如下: (请直接拷贝在BAT文件中)</p>
<p> </p>
<div style="padding: 4px 5.4pt; width: 95%;">
<span style="color: #008000;">::</span><span style="color: #008000;">作者:seavers</span><span style="color: #008000;"><br> ::</span><span style="color: #008000;">blog:blog.csdn.net/seavers(在此blog上首次发布该bat)</span><span style="color: #008000;"><br> ::</span><span style="color: #008000;">功能:反编译jar包,生成对应的源码jar包,详细说明方档请登陆我的blog</span>
<div>
<span style="color: #000000;"><br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">打开/关闭命令行显示</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">@echo</span><span style="color: #0000ff;">OFF</span><span style="color: #000000;"><br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">::::::::::::::::::::::::::解析并设置变量::::::::::::::::::</span><span style="color: #008000;"><br></span><span style="color: #000000;"><br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">查找jad文件的路径,这里取的jad.exe,表示从PATH中查找,如果想手工指定,需在这里修改</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">set</span><span style="color: #000000;">JAD_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">jad</span><span style="color: #000000;">.</span><span style="color: #000000;">exe<br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">设置解压出的class文件存放的位置(相对路径)</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">set</span><span style="color: #000000;">CLASS_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">bin<br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">设置反编译后的java文件存放的位置(相对路径)</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">set</span><span style="color: #000000;">JAVA_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">src<br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">检查JAD文件是否存在bat所在目录下,</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">if</span><span style="color: #0000ff;">exist</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%~dp0jad.exe</span><span style="color: #000000;">&#8221;</span><span style="color: #0000ff;">set</span><span style="color: #000000;">JAD_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">%~dp0jad</span><span style="color: #000000;">.</span><span style="color: #000000;">exe<br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">判断参数个数,如果没有文件参数,则报错,这里也可以使用%~f1,也可以用%1,没有关系,之后要去掉引号</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">if</span><span style="color: #000000;">&#8221;&#8221;</span><span style="color: #800080;">%1</span><span style="color: #000000;">&#8221;&#8221;</span><span style="color: #000000;">==</span><span style="color: #000000;">&#8221;&#8221;&#8220;&#8221;</span><span style="color: #000000;">(</span><span style="color: #0000ff;">set</span><span style="color: #000000;">/</span><span style="color: #000000;">PJAR_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">请输入要反编译的JAR包的路径</span><span style="color: #000000;">&#8230;)</span><span style="color: #0000ff;">else</span><span style="color: #000000;">(</span><span style="color: #0000ff;">set</span><span style="color: #000000;">JAR_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">%~f1</span><span style="color: #000000;">)</span><span style="color: #000000;"><br></span><span style="color: #0000ff;">if</span><span style="color: #000000;">&#8216;%JAR_PATH:~</span><span style="color: #000000;">0</span><span style="color: #000000;">,</span><span style="color: #000000;">1</span><span style="color: #000000;">%%JAR_PATH:~</span><span style="color: #000000;">0</span><span style="color: #000000;">,</span><span style="color: #000000;">1</span><span style="color: #000000;">%&#8217;</span><span style="color: #000000;">==</span><span style="color: #000000;">&#8217;</span><span style="color: #000000;">&#8221;&#8221;</span><span style="color: #000000;">&#8217;</span><span style="color: #0000ff;">set</span><span style="color: #000000;">JAR_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">%JAR_PATH:~</span><span style="color: #000000;">1</span><span style="color: #000000;">,</span><span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">%<br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">获取源代码存放的路径,这里取JAR包所在路径,然后去掉&#8221;.jar&#8221;作为文件夹路径,这里的LOCATION不能带引号,因为下面还要追加字符)</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">if</span><span style="color: #000000;">&#8221;&#8221;</span><span style="color: #800080;">%2</span><span style="color: #000000;">&#8221;&#8221;</span><span style="color: #000000;">==</span><span style="color: #000000;">&#8221;&#8221;&#8220;&#8221;</span><span style="color: #000000;">(</span><span style="color: #0000ff;">set</span><span style="color: #000000;">LOCATION</span><span style="color: #000000;">=</span><span style="color: #000000;">%JAR_PATH:~</span><span style="color: #000000;">0</span><span style="color: #000000;">,</span><span style="color: #000000;">-</span><span style="color: #000000;">4</span><span style="color: #000000;">%</span><span style="color: #000000;">)</span><span style="color: #0000ff;">else</span><span style="color: #000000;">(</span><span style="color: #0000ff;">set</span><span style="color: #000000;">LOCATION</span><span style="color: #000000;">=</span><span style="color: #000000;">%~f2</span><span style="color: #000000;">)</span><span style="color: #000000;"><br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">::::::::::::::::::开始执行程序:::::::::::::::::::::::::::::::</span><span style="color: #008000;"><br></span><span style="color: #000000;"><br></span><span style="color: #008000;">::</span><span style="color: #008000;">获取WinRAR.exe的路径,设置在临时变量rarpath中</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">for</span><span style="color: #000000;">/</span><span style="color: #000000;">f</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">usebackqdelims=</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%%iin</span><span style="color: #000000;">(</span><span style="color: #000000;">`ftypeWinRAR`</span><span style="color: #000000;">)</span><span style="color: #0000ff;">do</span><span style="color: #0000ff;">set</span><span style="color: #000000;">RARPATH</span><span style="color: #000000;">=</span><span style="color: #000000;">%%i<br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">对rarpath进行解析,去掉前面7个节符,去掉后面5个字符,得到WinRAR执行路径</span><span style="color: #008000;"><br> ::</span><span style="color: #008000;">路径大致是这样的形式Winrar=&#8221;C:/ProgramFiles/WinRAR/WinRAR.exe&#8221;&#8220;%1&#8221;</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">set</span><span style="color: #000000;">RAREXE</span><span style="color: #000000;">=</span><span style="color: #000000;">%RARPATH:~</span><span style="color: #000000;">7</span><span style="color: #000000;">,</span><span style="color: #000000;">-</span><span style="color: #000000;">5</span><span style="color: #000000;">%<br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">调用WinRAR命令,解压文件到指定目录的bin目录下</span><span style="color: #008000;"><br></span><span style="color: #000000;">%RAREXE%x</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%JAR_PATH%</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%LOCATION%/%CLASS_PATH%/</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;"><br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">遍历整个bin目录,取所有class文件,调用jad.exe反编译出源码,非class的拷贝到src目录下</span><span style="color: #008000;"><br> ::</span><span style="color: #008000;">打开变量延迟功能</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">setlocal</span><span style="color: #000000;">EnableDelayedExpansion<br></span><span style="color: #0000ff;">for</span><span style="color: #000000;">/</span><span style="color: #000000;">r</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%LOCATION%/bin</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%%iin</span><span style="color: #000000;">(</span><span style="color: #000000;">*</span><span style="color: #000000;">.</span><span style="color: #000000;">*</span><span style="color: #000000;">)</span><span style="color: #0000ff;">do</span><span style="color: #0000ff;">if</span><span style="color: #000000;">&#8217;%%~xi&#8217;</span><span style="color: #000000;">==</span><span style="color: #000000;">&#8217;</span><span style="color: #000000;">.</span><span style="color: #000000;">class&#8217;</span><span style="color: #000000;">(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%JAD_PATH%</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">-o-r-sjava-ff-b-nonlb-space-t-</span><span style="color: #000000;">8</span><span style="color: #000000;">-d</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%LOCATION%/%JAVA_PATH%</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%%~si</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">)</span><span style="color: #0000ff;">else</span><span style="color: #000000;">(</span><span style="color: #0000ff;">set</span><span style="color: #000000;">TEMP_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">%%i&amp;</span><span style="color: #0000ff;">echo</span><span style="color: #000000;">f|</span><span style="color: #0000ff;">xcopy</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%%i</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">!TEMP_PATH:%LOCATION%/bin=%LOCATION%/src!</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">)</span><span style="color: #000000;"><br></span><span style="color: #0000ff;">endlocal</span><span style="color: #000000;">EnableDelayedExpansion<br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">将产生的java文件压缩成源码文件</span><span style="color: #008000;"><br></span><span style="color: #000000;">%RAREXE%a-ep1-r</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%LOCATION%-src.zip</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">%LOCATION%/%JAVA_PATH%/*.*</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;"><br><br><br></span><span style="color: #008000;">::</span><span style="color: #008000;">::::::::::::::::程序结束,显示运行结果::::::::::::::::::::::</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">echo</span><span style="color: #000000;">*********************************************<br></span><span style="color: #0000ff;">echo</span><span style="color: #000000;">程序运行结束<br></span><span style="color: #0000ff;">echo</span><span style="color: #000000;">解析的JAR包的路径为%JAR_PATH%<br></span><span style="color: #0000ff;">echo</span><span style="color: #000000;">解压缩工具WinRAR</span><span style="color: #000000;">.</span><span style="color: #000000;">exe的路径为%RAREXE%<br></span><span style="color: #0000ff;">echo</span><span style="color: #000000;">反编译工具JAD</span><span style="color: #000000;">.</span><span style="color: #000000;">exe的路径为%JAD_PATH%<br></span><span style="color: #0000ff;">echo</span><span style="color: #000000;">解析后的文件的根路径为%LOCATION%<br></span><span style="color: #0000ff;">echo</span><span style="color: #000000;">解析后的class文件存放在%LOCATION%</span><span style="color: #000000;">/</span><span style="color: #000000;">%CLASS_PATH%<br></span><span style="color: #0000ff;">echo</span><span style="color: #000000;">解析后的java文件存放在%LOCATION%</span><span style="color: #000000;">/</span><span style="color: #000000;">%JAVA_PATH%<br></span><span style="color: #0000ff;">echo</span><span style="color: #000000;">压缩后的java文件存放在%LOCATION%-src</span><span style="color: #000000;">.</span><span style="color: #000000;">zip<br></span><span style="color: #0000ff;">echo</span><span style="color: #000000;">*********************************************<br></span><span style="color: #0000ff;">pause</span><span style="color: #000000;"><br><br><br></span>
</div>
</div>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007-08-23-1982085.html">c3p0.properties  .vs.   c3p0-config.xml</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-08-23T21:11:00+08:00" pubdate data-updated="true">Aug 23<span>rd</span>, 2007</time>
      </p>
    
  </header>


  <div class="entry-content"><div class="iteye-blog-content-contain" style="font-size: 14px;">
<p> </p>
<p>摘自c3p0.jar，方便查看</p>
<p>//c3p0.properties</p>
<div style="padding-right: 5.4pt; padding-left: 5.4pt; background: #e6e6e6; padding-bottom: 4px; width: 95%; padding-top: 4px;">
<div>
<span style="color: #000000;">#<br>#Thisfileisdetritusfromvarioustestingattempts<br>#thevaluesbelowmaychange</span><span style="color: #000000;">,</span><span style="color: #000000;">andoftendonotrepresent<br>#reasonablevaluesfortheparameters.<br>#<br><br>#c3p0.testConnectionOnCheckout</span><span style="color: #000000;">=</span><span style="color: #000000;">true<br>#c3p0.testConnectionOnCheckin</span><span style="color: #000000;">=</span><span style="color: #000000;">true<br>#c3p0.minPoolSize</span><span style="color: #000000;">=</span><span style="color: #000000;">3</span><span style="color: #000000;"><br>#c3p0.maxPoolSize</span><span style="color: #000000;">=</span><span style="color: #000000;">20</span><span style="color: #000000;"><br>#c3p0.checkoutTimeout</span><span style="color: #000000;">=</span><span style="color: #000000;">2000</span><span style="color: #000000;"><br>#c3p0.idleConnectionTestPeriod</span><span style="color: #000000;">=</span><span style="color: #000000;">5</span><span style="color: #000000;"><br>#c3p0.maxConnectionAge</span><span style="color: #000000;">=</span><span style="color: #000000;">10</span><span style="color: #000000;"><br>#c3p0.maxIdleTime</span><span style="color: #000000;">=</span><span style="color: #000000;">2</span><span style="color: #000000;"><br>#c3p0.maxIdleTimeExcessConnections</span><span style="color: #000000;">=</span><span style="color: #000000;">1</span><span style="color: #000000;"><br>#c3p0.propertyCycle</span><span style="color: #000000;">=</span><span style="color: #000000;">1</span><span style="color: #000000;"><br>#c3p0.numHelperThreads</span><span style="color: #000000;">=</span><span style="color: #000000;">10</span><span style="color: #000000;"><br>#c3p0.unreturnedConnectionTimeout</span><span style="color: #000000;">=</span><span style="color: #000000;">15</span><span style="color: #000000;"><br>#c3p0.debugUnreturnedConnectionStackTraces</span><span style="color: #000000;">=</span><span style="color: #000000;">true<br>#c3p0.maxStatements</span><span style="color: #000000;">=</span><span style="color: #000000;">30</span><span style="color: #000000;"><br>#c3p0.maxStatementsPerConnection</span><span style="color: #000000;">=</span><span style="color: #000000;">5</span><span style="color: #000000;"><br>#c3p0.maxAdministrativeTaskTime</span><span style="color: #000000;">=</span><span style="color: #000000;">3</span><span style="color: #000000;"><br>#c3p0.preferredTestQuery</span><span style="color: #000000;">=</span><span style="color: #000000;">SELECT</span><span style="color: #000000;">1</span><span style="color: #000000;"><br>#c3p0.preferredTestQuery</span><span style="color: #000000;">=</span><span style="color: #000000;">SELECTaFROMemptyyukyukWHEREa</span><span style="color: #000000;">=</span><span style="color: #000000;">5</span><span style="color: #000000;"><br>#c3p0.preferredTestQuery</span><span style="color: #000000;">=</span><span style="color: #000000;">SELECTaFROMtestpbdsWHEREa</span><span style="color: #000000;">=</span><span style="color: #000000;">5</span><span style="color: #000000;"><br>#c3p0.usesTraditionalReflectiveProxies</span><span style="color: #000000;">=</span><span style="color: #000000;">true<br>#c3p0.automaticTestTable</span><span style="color: #000000;">=</span><span style="color: #000000;">PoopyTestTable<br>#c3p0.acquireIncrement</span><span style="color: #000000;">=</span><span style="color: #000000;">4</span><span style="color: #000000;"><br>#c3p0.acquireRetryDelay</span><span style="color: #000000;">=</span><span style="color: #000000;">1000</span><span style="color: #000000;"><br>#c3p0.acquireRetryAttempts</span><span style="color: #000000;">=</span><span style="color: #000000;">60</span><span style="color: #000000;"><br>#c3p0.connectionTesterClassName</span><span style="color: #000000;">=</span><span style="color: #000000;">com.mchange.v2.c3p0.test.AlwaysFailConnectionTester<br>#c3p0.initialPoolSize</span><span style="color: #000000;">=</span><span style="color: #000000;">10</span><span style="color: #000000;"><br><br>c3p0.jdbcUrl</span><span style="color: #000000;">=</span><span style="color: #000000;">jdbc:postgresql://localhost/c3p0-test<br>c3p0.driverClass</span><span style="color: #000000;">=</span><span style="color: #000000;">org.postgresql.Driver<br>c3p0.user</span><span style="color: #000000;">=</span><span style="color: #000000;">swaldman<br>c3p0.password</span><span style="color: #000000;">=</span><span style="color: #000000;">test<br>#c3p0.user</span><span style="color: #000000;">=</span><span style="color: #000000;">poop<br>#c3p0.password</span><span style="color: #000000;">=</span><span style="color: #000000;">scoop<br><br>#com.mchange.v2.log.MLog</span><span style="color: #000000;">=</span><span style="color: #000000;">com.mchange.v2.log.log4j.Log4jMLog<br>#com.mchange.v2.log.MLog</span><span style="color: #000000;">=</span><span style="color: #000000;">com.mchange.v2.log.jdk14logging.Jdk14MLog<br>#com.mchange.v2.log.MLog</span><span style="color: #000000;">=</span><span style="color: #000000;">com.mchange.v2.log.FallbackMLog<br>#com.mchange.v2.log.NameTransformer</span><span style="color: #000000;">=</span><span style="color: #000000;">com.mchange.v2.log.PackageNames<br>#com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL</span><span style="color: #000000;">=</span><span style="color: #000000;">ALL<br><br><br>#com.mchange.v2.c3p0.VMID</span><span style="color: #000000;">=</span><span style="color: #000000;">poop<br><br></span>
</div>
</div>
<p> </p>
<p> </p>
<p>//c3p0-config.xml</p>
<div style="padding-right: 5.4pt; padding-left: 5.4pt; background: #e6e6e6; padding-bottom: 4px; width: 95%; padding-top: 4px;">
<div>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">c3p0-config</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br></span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">default-config</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;automaticTestTable&#8221;&gt;con_test&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;checkoutTimeout&#8221;&gt;30000&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;idleConnectionTestPeriod&#8221;&gt;30&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;initialPoolSize&#8221;&gt;10&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;maxIdleTime&#8221;&gt;30&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;maxIdleTimeExcessConnections&#8221;&gt;10&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;maxConnectionAge&#8221;&gt;60&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;propertyCycle&#8221;&gt;1&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;maxPoolSize&#8221;&gt;25&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;minPoolSize&#8221;&gt;5&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;maxStatements&#8221;&gt;0&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;maxStatementsPerConnection&#8221;&gt;5&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;maxAdministrativeTaskTime&#8221;&gt;4&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;connectionCustomizerClassName&#8221;&gt;com.mchange.v2.c3p0.test.TestConnectionCustomizer&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;unreturnedConnectionTimeout&#8221;&gt;15&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;">&lt;propertyname=&#8221;debugUnreturnedConnectionStackTraces&#8221;&gt;true&lt;/property&gt;</span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;"><br>&lt;user-overridesuser=&#8221;swaldman&#8221;&gt;<br>&lt;propertyname=&#8221;debugUnreturnedConnectionStackTraces&#8221;&gt;true&lt;/property&gt;<br>&lt;/user-overrides&gt;<br></span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br><br></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">default-config</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br><br></span><span style="color: #008000;">&lt;!&#8211;</span><span style="color: #008000;"><br>&lt;named-configname=&#8221;dumbTestConfig&#8221;&gt;<br>&lt;propertyname=&#8221;maxStatements&#8221;&gt;200&lt;/property&gt;<br>&lt;propertyname=&#8221;jdbcUrl&#8221;&gt;jdbc:test&lt;/property&gt;<br>&lt;user-overridesuser=&#8221;poop&#8221;&gt;<br>&lt;propertyname=&#8221;maxStatements&#8221;&gt;300&lt;/property&gt;<br>&lt;/user-overrides&gt;<br>&lt;/named-config&gt;<br></span><span style="color: #008000;">&#8211;&gt;</span><span style="color: #000000;"><br><br></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">c3p0-config</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br><br><br></span>
</div>
</div>
<p> </p>
<p> </p>
<p>//解析properties</p>
<p> </p>
<div style="padding-right: 5.4pt; padding-left: 5.4pt; background: #e6e6e6; padding-bottom: 4px; width: 95%; padding-top: 4px;">
<div>
<img id="_0_853_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top"><img id="_0_853_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top"><span id="_0_853_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/**/</span><span id="_0_853_Open_Text"><span style="color: #008000;">/*</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Distributedaspartofc3p0v.0.9.1.2<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Copyright(C)2005MachineryForChange,Inc.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Author:SteveWaldman&lt;swaldman@mchange.com&gt;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Thislibraryisfreesoftware;youcanredistributeitand/ormodify<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*itunderthetermsoftheGNULesserGeneralPublicLicenseversion2.1,as<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*publishedbytheFreeSoftwareFoundation.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Thissoftwareisdistributedinthehopethatitwillbeuseful,<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*butWITHOUTANYWARRANTY;withouteventheimpliedwarrantyof<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*MERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.Seethe<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*GNULesserGeneralPublicLicenseformoredetails.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*YoushouldhavereceivedacopyoftheGNULesserGeneralPublicLicense<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*alongwiththissoftware;seethefileLICENSE.Ifnot,writetothe<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*FreeSoftwareFoundation,Inc.,59TemplePlace,Suite330,<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Boston,MA02111-1307,USA.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top"></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">package</span><span style="color: #000000;">com.mchange.v2.c3p0.cfg;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.io.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.lang.reflect.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.util.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v2.cfg.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v2.log.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v2.c3p0.impl.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">class</span><span style="color: #000000;">C3P0ConfigUtils<br><img id="_1086_5190_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top"><img id="_1086_5190_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top"></span><span id="_1086_5190_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1086_5190_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringPROPS_FILE_RSRC_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/c3p0.properties</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringPROPS_FILE_PROP_PFX</span><span style="color: #000000;">=</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">c3p0.</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #0000ff;">int</span><span style="color: #000000;">PROPS_FILE_PROP_PFX_LEN</span><span style="color: #000000;">=</span><span style="color: #000000;">5</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img id="_1345_1380_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1345_1380_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]MISSPELL_PFXS</span><span style="color: #000000;">=</span><span id="_1345_1380_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1345_1380_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/c3pO</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/c3po</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/C3P0</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/C3PO</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">MLoggerlogger</span><span style="color: #000000;">=</span><span style="color: #000000;">MLog.getLogger(C3P0ConfigUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">static</span><span style="color: #000000;"><br><img id="_1484_2445_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1484_2445_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1484_2445_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1484_2445_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(logger.isLoggable(MLevel.WARNING)</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">C3P0ConfigUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">.getResource(PROPS_FILE_RSRC_PATH)</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br><img id="_1612_2439_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1612_2439_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1612_2439_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1612_2439_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;">warnonamisspelling&#8230;itsanuglywaytodothis,butsinceresourcesarenotlistable&#8230;</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">MISSPELL_PFXS.length;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br><img id="_1793_2429_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1793_2429_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1793_2429_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1793_2429_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Stringtest</span><span style="color: #000000;">=</span><span style="color: #000000;">MISSPELL_PFXS[i]</span><span style="color: #000000;">+</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">.properties</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(C3P0ConfigUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">.getResource(MISSPELL_PFXS[i]</span><span style="color: #000000;">+</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">.properties</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">)</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br><img id="_1974_2415_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1974_2415_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1974_2415_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1974_2415_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">logger.warning(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">POSSIBLYMISSPELLEDc3p0.propertiesCONFIGRESOURCEFOUND.</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">Pleaseensurethefilenameisc3p0.properties,alllowercase,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">withthedigit0(NOTtheletterO)inc3p0.Itshouldbeplaced</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">inthetoplevelofc3p0&#8217;seffectiveclasspath.</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">HashMapextractHardcodedC3P0Defaults(</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">stringify)<br><img id="_2526_3248_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2526_3248_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2526_3248_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2526_3248_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">HashMapout</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">try</span><span style="color: #000000;"><br><img id="_2569_3110_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2569_3110_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2569_3110_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2569_3110_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Method[]methods</span><span style="color: #000000;">=</span><span style="color: #000000;">C3P0Defaults.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">.getMethods();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,len</span><span style="color: #000000;">=</span><span style="color: #000000;">methods.length;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br><img id="_2685_3103_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2685_3103_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2685_3103_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2685_3103_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Methodm</span><span style="color: #000000;">=</span><span style="color: #000000;">methods[i];<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">int</span><span style="color: #000000;">mods</span><span style="color: #000000;">=</span><span style="color: #000000;">m.getModifiers();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">((mods</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">Modifier.PUBLIC)</span><span style="color: #000000;">!=</span><span style="color: #000000;">0</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">(mods</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">Modifier.STATIC)</span><span style="color: #000000;">!=</span><span style="color: #000000;">0</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">m.getParameterTypes().length</span><span style="color: #000000;">==</span><span style="color: #000000;">0</span><span style="color: #000000;">)<br><img id="_2860_3095_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2860_3095_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2860_3095_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2860_3095_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(stringify)<br><img id="_2889_3021_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2889_3021_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2889_3021_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2889_3021_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Objectval</span><span style="color: #000000;">=</span><span style="color: #000000;">m.invoke(</span><span style="color: #0000ff;">null</span><span style="color: #000000;">,</span><span style="color: #0000ff;">null</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(val</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">out.put(m.getName(),String.valueOf(val));<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">out.put(m.getName(),m.invoke(</span><span style="color: #0000ff;">null</span><span style="color: #000000;">,</span><span style="color: #0000ff;">null</span><span style="color: #000000;">));<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exceptione)<br><img id="_3138_3228_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3138_3228_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3138_3228_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3138_3228_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">logger.log(MLevel.WARNING,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">Failedtoextracthardcodeddefaultconfig!?</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,e);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">out;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">HashMapextractHardcodedC3P0Defaults()<br><img id="_3312_3359_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3312_3359_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3312_3359_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3312_3359_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">extractHardcodedC3P0Defaults(</span><span style="color: #0000ff;">true</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">HashMapextractC3P0PropertiesResources()<br><img id="_3425_3890_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3425_3890_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3425_3890_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3425_3890_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">HashMapout</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;">Propertiesprops=findResourceProperties();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;">props.putAll(findAllC3P0Properties());</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Propertiesprops</span><span style="color: #000000;">=</span><span style="color: #000000;">findAllC3P0Properties();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(Iteratorii</span><span style="color: #000000;">=</span><span style="color: #000000;">props.keySet().iterator();ii.hasNext();)<br><img id="_3667_3870_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3667_3870_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3667_3870_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3667_3870_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Stringkey</span><span style="color: #000000;">=</span><span style="color: #000000;">(String)ii.next();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Stringval</span><span style="color: #000000;">=</span><span style="color: #000000;">(String)props.get(key);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(key.startsWith(PROPS_FILE_PROP_PFX))<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">out.put(key.substring(PROPS_FILE_PROP_PFX_LEN).trim(),val.trim());<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">out;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">C3P0ConfigconfigFromFlatDefaults(HashMapflatDefaults)<br><img id="_3971_4176_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3971_4176_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3971_4176_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3971_4176_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">NamedScopedefaults</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">NamedScope();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">defaults.props.putAll(flatDefaults);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">HashMapconfigNamesToNamedScopes</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">new</span><span style="color: #000000;">C3P0Config(defaults,configNamesToNamedScopes);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringgetPropFileConfigProperty(Stringprop)<br><img id="_4253_4320_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4253_4320_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4253_4320_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4253_4320_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">MultiPropertiesConfig.readVmConfig().getProperty(prop);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">static</span><span style="color: #000000;">PropertiesfindResourceProperties()<br><img id="_4382_4479_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4382_4479_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4382_4479_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4382_4479_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">MultiPropertiesConfig.readVmConfig().getPropertiesByResourcePath(PROPS_FILE_RSRC_PATH);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">static</span><span style="color: #000000;">PropertiesfindAllC3P0Properties()<br><img id="_4540_4617_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4540_4617_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4540_4617_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4540_4617_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">MultiPropertiesConfig.readVmConfig().getPropertiesByPrefix(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">c3p0</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">static</span><span style="color: #000000;">PropertiesfindAllC3P0SystemProperties()<br><img id="_4676_5150_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4676_5150_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4676_5150_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4676_5150_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Propertiesout</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">Properties();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">SecurityExceptionsampleExc</span><span style="color: #000000;">=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">try</span><span style="color: #000000;"><br><img id="_4762_5077_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4762_5077_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4762_5077_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4762_5077_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(Iteratorii</span><span style="color: #000000;">=</span><span style="color: #000000;">C3P0Defaults.getKnownProperties().iterator();ii.hasNext();)<br><img id="_4853_5070_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4853_5070_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4853_5070_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4853_5070_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Stringkey</span><span style="color: #000000;">=</span><span style="color: #000000;">(String)ii.next();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">StringprefixedKey</span><span style="color: #000000;">=</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">c3p0.</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;">key;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Stringvalue</span><span style="color: #000000;">=</span><span style="color: #000000;">System.getProperty(prefixedKey);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(value</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">value.trim().length()</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">0</span><span style="color: #000000;">)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">out.put(key,value);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(SecurityExceptione)<br><img id="_5113_5130_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5113_5130_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5113_5130_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_5113_5130_Open_Text"><span style="color: #000000;">{sampleExc</span><span style="color: #000000;">=</span><span style="color: #000000;">e;}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">out;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #000000;">C3P0ConfigUtils()<br><img id="_5187_5188_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5187_5188_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5187_5188_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_5187_5188_Open_Text"><span style="color: #000000;">{}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span>
</div>
</div>
<p> </p>
<p> </p>
<p>//解析xml</p>
<p> </p>
<div style="padding-right: 5.4pt; padding-left: 5.4pt; background: #e6e6e6; padding-bottom: 4px; width: 95%; padding-top: 4px;">
<div>
<img id="_0_853_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top"><img id="_0_853_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top"><span id="_0_853_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/**/</span><span id="_0_853_Open_Text"><span style="color: #008000;">/*</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Distributedaspartofc3p0v.0.9.1.2<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Copyright(C)2005MachineryForChange,Inc.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Author:SteveWaldman&lt;swaldman@mchange.com&gt;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Thislibraryisfreesoftware;youcanredistributeitand/ormodify<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*itunderthetermsoftheGNULesserGeneralPublicLicenseversion2.1,as<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*publishedbytheFreeSoftwareFoundation.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Thissoftwareisdistributedinthehopethatitwillbeuseful,<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*butWITHOUTANYWARRANTY;withouteventheimpliedwarrantyof<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*MERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.Seethe<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*GNULesserGeneralPublicLicenseformoredetails.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*YoushouldhavereceivedacopyoftheGNULesserGeneralPublicLicense<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*alongwiththissoftware;seethefileLICENSE.Ifnot,writetothe<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*FreeSoftwareFoundation,Inc.,59TemplePlace,Suite330,<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Boston,MA02111-1307,USA.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top"></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">package</span><span style="color: #000000;">com.mchange.v2.c3p0.cfg;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.io.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.util.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">javax.xml.parsers.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">org.w3c.dom.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v2.log.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v1.xml.DomParseUtils;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">class</span><span style="color: #000000;">C3P0ConfigXmlUtils<br><img id="_1089_8910_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top"><img id="_1089_8910_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top"></span><span id="_1089_8910_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1089_8910_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringXML_CONFIG_RSRC_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/c3p0-config.xml</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">MLoggerlogger</span><span style="color: #000000;">=</span><span style="color: #000000;">MLog.getLogger(C3P0ConfigXmlUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringLINESEP;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img id="_1340_1384_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1340_1384_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]MISSPELL_PFXS</span><span style="color: #000000;">=</span><span id="_1340_1384_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1340_1384_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/c3p0</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/c3pO</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/c3po</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/C3P0</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">/C3PO</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br><img id="_1439_1448_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1439_1448_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #0000ff;">char</span><span style="color: #000000;">[]MISSPELL_LINES</span><span style="color: #000000;">=</span><span id="_1439_1448_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1439_1448_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">&#8217;</span><span style="color: #000000;">-</span><span style="color: #000000;">&#8217;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8217;</span><span style="color: #000000;">_</span><span style="color: #000000;">&#8217;</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br><img id="_1503_1522_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1503_1522_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]MISSPELL_CONFIG</span><span style="color: #000000;">=</span><span id="_1503_1522_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1503_1522_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">config</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">CONFIG</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br><img id="_1574_1587_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1574_1587_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]MISSPELL_XML</span><span style="color: #000000;">=</span><span id="_1574_1587_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1574_1587_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">xml</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">XML</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;">itsanuglywaytodothis,butsinceresourcesarenotlistable&#8230;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;">thisisonlyexecutedonce,anddoesabout40tests(fornow)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;">shouldIcareaboutthecostininitializationtime?<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;">shouldonlyberunifwe&#8217;vecheckedforthecorrectfile,but<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;">notfoundit</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #0000ff;">void</span><span style="color: #000000;">warnCommonXmlConfigResourceMisspellings()<br><img id="_1974_3736_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1974_3736_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1974_3736_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1974_3736_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(logger.isLoggable(MLevel.WARNING))<br><img id="_2033_3730_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2033_3730_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2033_3730_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2033_3730_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">a</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,lena</span><span style="color: #000000;">=</span><span style="color: #000000;">MISSPELL_PFXS.length;a</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">lena;</span><span style="color: #000000;">++</span><span style="color: #000000;">a)<br><img id="_2119_3720_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2119_3720_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2119_3720_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2119_3720_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">StringBuffersb</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">StringBuffer(</span><span style="color: #000000;">16</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">sb.append(MISSPELL_PFXS[a]);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">b</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,lenb</span><span style="color: #000000;">=</span><span style="color: #000000;">MISSPELL_LINES.length;b</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">lenb;</span><span style="color: #000000;">++</span><span style="color: #000000;">b)<br><img id="_2317_3706_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2317_3706_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2317_3706_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2317_3706_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">sb.append(MISSPELL_LINES*);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">c</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,lenc</span><span style="color: #000000;">=</span><span style="color: #000000;">MISSPELL_CONFIG.length;c</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">lenc;</span><span style="color: #000000;">++</span><span style="color: #000000;">c)<br><img id="_2471_3687_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2471_3687_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2471_3687_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2471_3687_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">sb.append(MISSPELL_CONFIG[c]);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">sb.append(</span><span style="color: #000000;">&#8217;</span><span style="color: #000000;">.</span><span style="color: #000000;">&#8217;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">d</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,lend</span><span style="color: #000000;">=</span><span style="color: #000000;">MISSPELL_XML.length;d</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">lend;</span><span style="color: #000000;">++</span><span style="color: #000000;">d)<br><img id="_2675_3665_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2675_3665_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2675_3665_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2675_3665_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">sb.append(MISSPELL_XML[d]);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Stringtest</span><span style="color: #000000;">=</span><span style="color: #000000;">sb.toString();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">!</span><span style="color: #000000;">test.equals(XML_CONFIG_RSRC_PATH))<br><img id="_2886_3639_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2886_3639_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2886_3639_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2886_3639_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">ObjecthopefullyNull</span><span style="color: #000000;">=</span><span style="color: #000000;">C3P0ConfigXmlUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">.getResource(test);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(hopefullyNull</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br><img id="_3080_3609_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3080_3609_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3080_3609_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3080_3609_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">logger.warning(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">POSSIBLYMISSPELLEDc3p0-conf.xmlRESOURCEFOUND.</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">Pleaseensurethefilenameisc3p0-config.xml,alllowercase,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">withthedigit0(NOTtheletterO)inc3p0.Itshouldbeplaced</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">inthetoplevelofc3p0&#8217;seffectiveclasspath.</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">static</span><span style="color: #000000;"><br><img id="_3754_3932_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3754_3932_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3754_3932_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3754_3932_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Stringls;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">try</span><span style="color: #000000;"><br><img id="_3796_3849_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3796_3849_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3796_3849_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3796_3849_Open_Text"><span style="color: #000000;">{ls</span><span style="color: #000000;">=</span><span style="color: #000000;">System.getProperty(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">line.separator</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exceptione)<br><img id="_3887_3902_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3887_3902_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3887_3902_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3887_3902_Open_Text"><span style="color: #000000;">{ls</span><span style="color: #000000;">=</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">;}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">LINESEP</span><span style="color: #000000;">=</span><span style="color: #000000;">ls;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">C3P0ConfigextractXmlConfigFromDefaultResource()</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">Exception<br><img id="_4023_4691_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4023_4691_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4023_4691_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4023_4691_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">InputStreamis</span><span style="color: #000000;">=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">try</span><span style="color: #000000;"><br><img id="_4077_4394_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4077_4394_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4077_4394_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4077_4394_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">is</span><span style="color: #000000;">=</span><span style="color: #000000;">C3P0ConfigUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">.getResourceAsStream(XML_CONFIG_RSRC_PATH);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(is</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br><img id="_4203_4305_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4203_4305_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4203_4305_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4203_4305_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">warnCommonXmlConfigResourceMisspellings();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">extractXmlConfigFromInputStream(is);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">finally</span><span style="color: #000000;"><br><img id="_4420_4685_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4420_4685_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4420_4685_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4420_4685_Open_Text"><span style="color: #000000;">{<br><img id="_4438_4468_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4438_4468_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">try</span><span id="_4438_4468_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4438_4468_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(is</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)is.close();}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exceptione)<br><img id="_4514_4675_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4514_4675_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4514_4675_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4514_4675_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(logger.isLoggable(MLevel.FINE))<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">logger.log(MLevel.FINE,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">ExceptiononresourceInputStreamclose.</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,e);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">C3P0ConfigextractXmlConfigFromInputStream(InputStreamis)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">Exception<br><img id="_4792_5015_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4792_5015_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4792_5015_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4792_5015_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">DocumentBuilderFactoryfact</span><span style="color: #000000;">=</span><span style="color: #000000;">DocumentBuilderFactory.newInstance();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">DocumentBuilderdb</span><span style="color: #000000;">=</span><span style="color: #000000;">fact.newDocumentBuilder();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Documentdoc</span><span style="color: #000000;">=</span><span style="color: #000000;">db.parse(is);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">extractConfigFromXmlDoc(doc);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">C3P0ConfigextractConfigFromXmlDoc(Documentdoc)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">Exception<br><img id="_5106_6579_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5106_6579_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5106_6579_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_5106_6579_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">ElementdocElem</span><span style="color: #000000;">=</span><span style="color: #000000;">doc.getDocumentElement();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(docElem.getTagName().equals(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">c3p0-config</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">))<br><img id="_5224_6431_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5224_6431_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5224_6431_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_5224_6431_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">NamedScopedefaults;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">HashMapconfigNamesToNamedScopes</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">ElementdefaultConfigElem</span><span style="color: #000000;">=</span><span style="color: #000000;">DomParseUtils.uniqueChild(docElem,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">default-config</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(defaultConfigElem</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">defaults</span><span style="color: #000000;">=</span><span style="color: #000000;">extractNamedScopeFromLevel(defaultConfigElem);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">defaults</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">NamedScope();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">DomParseUtils.immediateChildElementsByTagName(docElem,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">named-config</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br><img id="_5773_6348_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5773_6348_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5773_6348_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_5773_6348_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">ElementnamedConfigElem</span><span style="color: #000000;">=</span><span style="color: #000000;">(Element)nl.item(i);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">StringconfigName</span><span style="color: #000000;">=</span><span style="color: #000000;">namedConfigElem.getAttribute(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">name</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(configName</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">configName.length()</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">0</span><span style="color: #000000;">)<br><img id="_5996_6182_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5996_6182_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5996_6182_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_5996_6182_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">NamedScopenamedConfig</span><span style="color: #000000;">=</span><span style="color: #000000;">extractNamedScopeFromLevel(namedConfigElem);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">configNamesToNamedScopes.put(configName,namedConfig);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">logger.warning(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">ConfigurationXMLcontainednamed-configelementwithoutnameattribute:</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;">namedConfigElem);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">new</span><span style="color: #000000;">C3P0Config(defaults,configNamesToNamedScopes);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throw</span><span style="color: #0000ff;">new</span><span style="color: #000000;">Exception(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">Rootelementofc3p0configxmlshouldbe&#8217;c3p0-config&#8217;,not&#8217;</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;">docElem.getTagName()</span><span style="color: #000000;">+</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">&#8217;.</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">static</span><span style="color: #000000;">NamedScopeextractNamedScopeFromLevel(Elementelem)<br><img id="_6657_7539_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_6657_7539_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_6657_7539_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_6657_7539_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">HashMapprops</span><span style="color: #000000;">=</span><span style="color: #000000;">extractPropertiesFromLevel(elem);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">HashMapuserNamesToOverrides</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">DomParseUtils.immediateChildElementsByTagName(elem,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">user-overrides</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br><img id="_6935_7472_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_6935_7472_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_6935_7472_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_6935_7472_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">ElementperUserConfigElem</span><span style="color: #000000;">=</span><span style="color: #000000;">(Element)nl.item(i);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">StringuserName</span><span style="color: #000000;">=</span><span style="color: #000000;">perUserConfigElem.getAttribute(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">user</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(userName</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">userName.length()</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">0</span><span style="color: #000000;">)<br><img id="_7140_7304_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_7140_7304_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_7140_7304_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_7140_7304_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">HashMapuserProps</span><span style="color: #000000;">=</span><span style="color: #000000;">extractPropertiesFromLevel(perUserConfigElem);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">userNamesToOverrides.put(userName,userProps);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">logger.warning(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">ConfigurationXMLcontaineduser-overrideselementwithoutuserattribute:</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;">LINESEP</span><span style="color: #000000;">+</span><span style="color: #000000;">perUserConfigElem);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">new</span><span style="color: #000000;">NamedScope(props,userNamesToOverrides);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">static</span><span style="color: #000000;">HashMapextractPropertiesFromLevel(Elementelem)<br><img id="_7614_8867_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_7614_8867_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_7614_8867_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_7614_8867_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;">System.err.println(&#8220;extractPropertiesFromLevel()&#8221;);</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">HashMapout</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">try</span><span style="color: #000000;"><br><img id="_7740_8547_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_7740_8547_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_7740_8547_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_7740_8547_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">DomParseUtils.immediateChildElementsByTagName(elem,</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">property</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">int</span><span style="color: #000000;">len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br><img id="_7925_8537_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_7925_8537_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_7925_8537_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_7925_8537_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">ElementpropertyElem</span><span style="color: #000000;">=</span><span style="color: #000000;">(Element)nl.item(i);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">StringpropName</span><span style="color: #000000;">=</span><span style="color: #000000;">propertyElem.getAttribute(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">name</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(propName</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">propName.length()</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">0</span><span style="color: #000000;">)<br><img id="_8136_8368_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_8136_8368_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_8136_8368_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_8136_8368_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">StringpropVal</span><span style="color: #000000;">=</span><span style="color: #000000;">DomParseUtils.allTextFromElement(propertyElem,</span><span style="color: #0000ff;">true</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">out.put(propName,propVal);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #008000;">//</span><span style="color: #008000;">System.err.println(propName+&#8221;-&gt;&#8221;+propVal);</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top"></span><span style="color: #000000;">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">logger.warning(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">ConfigurationXMLcontainedpropertyelementwithoutnameattribute:</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;">LINESEP</span><span style="color: #000000;">+</span><span style="color: #000000;">propertyElem);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exceptione)<br><img id="_8585_8840_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_8585_8840_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_8585_8840_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_8585_8840_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">logger.log(MLevel.WARNING,<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">AnexceptionoccurredwhilereadingconfigXML.</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">Someconfigurationinformationhasprobablybeenignored.</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">,<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">e);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">out;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #000000;">C3P0ConfigXmlUtils()<br><img id="_8907_8908_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_8907_8908_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_8907_8908_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_8907_8908_Open_Text"><span style="color: #000000;">{}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span>
</div>
</div>
<p> </p>
<p> </p>
<div style="padding-right: 5.4pt; padding-left: 5.4pt; background: #e6e6e6; padding-bottom: 4px; width: 95%; padding-top: 4px;">
<div>
<img id="_0_853_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top"><img id="_0_853_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top"><span id="_0_853_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/**/</span><span id="_0_853_Open_Text"><span style="color: #008000;">/*</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Distributedaspartofc3p0v.0.9.1.2<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Copyright(C)2005MachineryForChange,Inc.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Author:SteveWaldman&lt;swaldman@mchange.com&gt;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Thislibraryisfreesoftware;youcanredistributeitand/ormodify<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*itunderthetermsoftheGNULesserGeneralPublicLicenseversion2.1,as<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*publishedbytheFreeSoftwareFoundation.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Thissoftwareisdistributedinthehopethatitwillbeuseful,<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*butWITHOUTANYWARRANTY;withouteventheimpliedwarrantyof<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*MERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.Seethe<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*GNULesserGeneralPublicLicenseformoredetails.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*YoushouldhavereceivedacopyoftheGNULesserGeneralPublicLicense<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*alongwiththissoftware;seethefileLICENSE.Ifnot,writetothe<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*FreeSoftwareFoundation,Inc.,59TemplePlace,Suite330,<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*Boston,MA02111-1307,USA.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top"></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">package</span><span style="color: #000000;">com.mchange.v1.xml;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.util.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">org.xml.sax.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">org.w3c.dom.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v1.util.DebugUtils;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">class</span><span style="color: #000000;">DomParseUtils<br><img id="_1023_5922_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top"><img id="_1023_5922_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top"></span><span id="_1023_5922_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1023_5922_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">DEBUG</span><span style="color: #000000;">=</span><span style="color: #0000ff;">true</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img id="_1069_1123_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1069_1123_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1069_1123_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_1069_1123_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*</span><span style="color: #808080;">@return</span><span style="color: #008000;">nullifchilddoesn&#8217;texist.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top"></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallTextFromUniqueChild(Elementelem,StringchildTagName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_1233_1295_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1233_1295_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1233_1295_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1233_1295_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">allTextFromUniqueChild(elem,childTagName,</span><span style="color: #0000ff;">false</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img id="_1302_1356_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1302_1356_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1302_1356_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_1302_1356_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*</span><span style="color: #808080;">@return</span><span style="color: #008000;">nullifchilddoesn&#8217;texist.<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top"></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallTextFromUniqueChild(Elementelem,StringchildTagName,</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">trim)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_1484_1674_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1484_1674_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1484_1674_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1484_1674_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">ElementuniqueChild</span><span style="color: #000000;">=</span><span style="color: #000000;">uniqueChildByTagName(elem,childTagName);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(uniqueChild</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">DomParseUtils.allTextFromElement(uniqueChild,trim);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">ElementuniqueChild(Elementelem,StringchildTagName)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_1774_1826_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1774_1826_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1774_1826_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_1774_1826_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">uniqueChildByTagName(elem,childTagName);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img id="_1833_1913_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_1833_1913_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_1833_1913_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_1833_1913_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useuniqueChild(Elementelem,StringchildTagName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top"></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">ElementuniqueChildByTagName(Elementelem,StringchildTagName)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_2021_2309_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2021_2309_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2021_2309_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2021_2309_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">elem.getElementsByTagName(childTagName);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">int</span><span style="color: #000000;">len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(DEBUG)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">DebugUtils.myAssert(len</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">1</span><span style="color: #000000;">,<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">Thereismorethanone(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;">len</span><span style="color: #000000;">+</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">)childwithtagname:</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">childTagName</span><span style="color: #000000;">+</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">!!!</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">(len</span><span style="color: #000000;">==</span><span style="color: #000000;">1</span><span style="color: #000000;">?</span><span style="color: #000000;">(Element)nl.item(</span><span style="color: #000000;">0</span><span style="color: #000000;">):</span><span style="color: #0000ff;">null</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallText(Elementelem)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_2383_2420_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2383_2420_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2383_2420_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2383_2420_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">allTextFromElement(elem);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallText(Elementelem,</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">trim)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_2508_2551_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2508_2551_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2508_2551_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2508_2551_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">allTextFromElement(elem,trim);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img id="_2558_2601_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2558_2601_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2558_2601_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_2558_2601_Open_Text"><span style="color: #008000;">/**</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useallText(Elementelem)</span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallTextFromElement(Elementelem)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_2685_2728_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2685_2728_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2685_2728_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2685_2728_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">allTextFromElement(elem,</span><span style="color: #0000ff;">false</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img id="_2735_2792_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2735_2792_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2735_2792_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_2735_2792_Open_Text"><span style="color: #008000;">/**</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useallText(Elementelem,booleantrim)</span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallTextFromElement(Elementelem,</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">trim)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_2890_3239_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_2890_3239_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_2890_3239_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_2890_3239_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">StringBuffertextBuf</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">StringBuffer();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">elem.getChildNodes();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">j</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();j</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">j)<br><img id="_3031_3162_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3031_3162_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3031_3162_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3031_3162_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Nodenode</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.item(j);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(node</span><span style="color: #0000ff;">instanceof</span><span style="color: #000000;">Text)</span><span style="color: #008000;">//</span><span style="color: #008000;">includesTextandCDATA!</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">textBuf.append(node.getNodeValue());<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Stringout</span><span style="color: #000000;">=</span><span style="color: #000000;">textBuf.toString();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">(trim</span><span style="color: #000000;">?</span><span style="color: #000000;">out.trim():out);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]allTextFromImmediateChildElements(Elementparent,StringtagName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_3363_3433_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3363_3433_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3363_3433_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3363_3433_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">allTextFromImmediateChildElements(parent,tagName,</span><span style="color: #0000ff;">false</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]allTextFromImmediateChildElements(Elementparent,StringtagName,</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">trim)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_3571_3803_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3571_3803_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3571_3803_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3571_3803_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">immediateChildElementsByTagName(parent,tagName);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">int</span><span style="color: #000000;">len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">String[]out</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">String[len];<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">out[i]</span><span style="color: #000000;">=</span><span style="color: #000000;">allText((Element)nl.item(i),trim);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">out;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">NodeListimmediateChildElementsByTagName(Elementparent,StringtagName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_3925_3989_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3925_3989_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3925_3989_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_3925_3989_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">getImmediateChildElementsByTagName(parent,tagName);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img id="_3996_4090_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_3996_4090_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_3996_4090_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_3996_4090_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useimmediateChildrenByTagName(Elementparent,StringtagName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top"></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">NodeListgetImmediateChildElementsByTagName(Elementparent,StringtagName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_4213_4606_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4213_4606_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4213_4606_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4213_4606_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">final</span><span style="color: #000000;">Listnodes</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">ArrayList();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(Nodechild</span><span style="color: #000000;">=</span><span style="color: #000000;">parent.getFirstChild();child</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;child</span><span style="color: #000000;">=</span><span style="color: #000000;">child.getNextSibling())<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(child</span><span style="color: #0000ff;">instanceof</span><span style="color: #000000;">Element</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">((Element)child).getTagName().equals(tagName))<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">nodes.add(child);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">new</span><span style="color: #000000;">NodeList()<br><img id="_4475_4599_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4475_4599_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4475_4599_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4475_4599_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">int</span><span style="color: #000000;">getLength()<br><img id="_4504_4527_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4504_4527_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4504_4527_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4504_4527_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">nodes.size();}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #000000;">Nodeitem(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i)<br><img id="_4560_4592_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4560_4592_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4560_4592_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4560_4592_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">(Node)nodes.get(i);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallTextFromUniqueImmediateChild(Elementelem,StringchildTagName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_4726_4909_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_4726_4909_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_4726_4909_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_4726_4909_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">ElementuniqueChild</span><span style="color: #000000;">=</span><span style="color: #000000;">uniqueImmediateChildByTagName(elem,childTagName);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(uniqueChild</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">DomParseUtils.allTextFromElement(uniqueChild);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">ElementuniqueImmediateChild(Elementelem,StringchildTagName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_5020_5081_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5020_5081_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5020_5081_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_5020_5081_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">uniqueImmediateChildByTagName(elem,childTagName);}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img id="_5088_5178_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5088_5178_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5088_5178_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_5088_5178_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useuniqueImmediateChild(Elementelem,StringchildTagName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top"></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">ElementuniqueImmediateChildByTagName(Elementelem,StringchildTagName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_5297_5600_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5297_5600_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5297_5600_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_5297_5600_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">getImmediateChildElementsByTagName(elem,childTagName);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">int</span><span style="color: #000000;">len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(DEBUG)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">DebugUtils.myAssert(len</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">1</span><span style="color: #000000;">,<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">Thereismorethanone(</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;">len</span><span style="color: #000000;">+</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">)childwithtagname:</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">+</span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">childTagName</span><span style="color: #000000;">+</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">!!!</span><span style="color: #000000;">&#8221;</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">(len</span><span style="color: #000000;">==</span><span style="color: #000000;">1</span><span style="color: #000000;">?</span><span style="color: #000000;">(Element)nl.item(</span><span style="color: #000000;">0</span><span style="color: #000000;">):</span><span style="color: #0000ff;">null</span><span style="color: #000000;">);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img id="_5607_5673_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5607_5673_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5607_5673_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_5607_5673_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">*</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useElement.getAttribute(Stringval)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top"></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringattrValFromElement(Elementelement,StringattrName)<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br><img id="_5778_5884_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5778_5884_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5778_5884_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_5778_5884_Open_Text"><span style="color: #000000;">{<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top">Attrattr</span><span style="color: #000000;">=</span><span style="color: #000000;">element.getAttributeNode(attrName);<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">return</span><span style="color: #000000;">(attr</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">?</span><span style="color: #0000ff;">null</span><span style="color: #000000;">:attr.getValue());<br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top"></span><span style="color: #0000ff;">private</span><span style="color: #000000;">DomParseUtils()<br><img id="_5919_5920_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top"><img id="_5919_5920_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top"></span><span id="_5919_5920_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">&#8230;</span><span id="_5919_5920_Open_Text"><span style="color: #000000;">{}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top">}</span></span><span style="color: #000000;"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"><br><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top"></span>
</div>
</div>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006-11-02-1982086.html">缓冲区溢出漏洞</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-11-02T23:49:00+08:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2006</time>
      </p>
    
  </header>


  <div class="entry-content"><p>贴一小段自己写的小程序</p>


<p>//MS VC++ 6.0 Console lhj<br>#include &lt;windows.h&gt;<br></p>


<p>void main()<br>{<br>//保留原来的返回地址<br>DWORD *pBackAddress = (DWORD *)&amp;pBackAddress + 2;<br>DWORD BackAddress = *pBackAddress;</p>


<p>//获取自己的执行代码地址<br>HMODULE hModule = LoadLibrary(&#8220;User32.dll&#8221;);<br>DWORD Address = (DWORD)GetProcAddress(hModule, &#8220;MessageBoxA&#8221;);</p>


<p>//缓冲区溢出<br>DWORD Buffer[100];<br>Buffer[0] = 0x5050C033;// xoreax, eaxpush eaxpush eax<br>Buffer[1] = 0xE8905050;// pusheax pusheax<br>Buffer[2] = Address - (DWORD)&amp;Buffer[3];// call MessageBoxA<br>Buffer[3] = 0xE9909090;// jmpBackAddress<br>Buffer[4] = BackAddress - (DWORD)&amp;Buffer[5];</p>


<p>//更改返回地址<br>*pBackAddress = (DWORD)Buffer;</p>


<p>}</p>


<p></p>


<p>举例:</p>


<p>void MyRecv(char buffer)<br>{<br>char TempBuf[1024];<br>memset(TempBuf, 0, 1024);<br>int len = recv(TempBuf);<br>memcpy(buffer, TempBuf, len);<br>}</p>


<p>如果在我们的程序中调用过这样一段程序, 那么我们的程序将面临着溢出的危险!</p>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/9/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/7/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/android/'>android (2)</a></li>
<li class='category'><a href='/blog/categories/chrome/'>chrome (1)</a></li>
<li class='category'><a href='/blog/categories/css/'>css (3)</a></li>
<li class='category'><a href='/blog/categories/cubieboard/'>cubieboard (3)</a></li>
<li class='category'><a href='/blog/categories/git/'>git (2)</a></li>
<li class='category'><a href='/blog/categories/hive/'>hive (1)</a></li>
<li class='category'><a href='/blog/categories/html5/'>html5 (1)</a></li>
<li class='category'><a href='/blog/categories/java/'>java (8)</a></li>
<li class='category'><a href='/blog/categories/javascript/'>javascript (10)</a></li>
<li class='category'><a href='/blog/categories/maven/'>maven (5)</a></li>
<li class='category'><a href='/blog/categories/nginx/'>nginx (1)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>octopress (3)</a></li>
<li class='category'><a href='/blog/categories/php/'>php (1)</a></li>
<li class='category'><a href='/blog/categories/ruby/'>ruby (5)</a></li>
<li class='category'><a href='/blog/categories/ubuntu/'>ubuntu (20)</a></li>
<li class='category'><a href='/blog/categories/思考/'>思考 (9)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014-01-19-ruby-multiple-return.html">ruby语法糖 - 多返回值</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-01-12-ruby-enumerable.html">ruby Enumerator</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-01-05-ruby-string-array.html">ruby 字符串与数组</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014-01-04-ruby-study-notes.html">ruby 学习笔记</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013-12-31-iteye-blog-migration.html">iteye 博客迁移</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>大牛博客</h1>
  <ul>
    <li>
      <a href="http://ithans.com/">ithans</a>
    </li>
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - seavers -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>
</footer>
  <script src="/javascripts/libs/jquery.min.js"></script>
<script src="/javascripts/octopress.js"></script>

<script src=" http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=3919158905" charset="utf-8"></script>
<script src="/javascripts/blog.js"></script>
<script src='http://hm.baidu.com/h.js?f1e7ae48ee023d8ed983af30c485b5ce'></script>


</body>
</html>
